lines â† â€¢FLines âŠ‘â€¢args

# parse into a matrix of numbers
x â† > '0'âŠ¸(-Ëœ)Â¨Â¨ lines
x â†© 1+x  # move up by one to avoid 0 clashing with Â» fill value

# part one: how many trees are visible?
# produce four binary matrices indicating visibility from top,left,bottom,right
# then logical or and count
t â† x >     Â» âŒˆ`     x  # from top
b â† x >   âŒ½ Â» âŒˆ` âŒ½   x  # from bottom
l â† x > â‰   Â» âŒˆ`   â‰ x  # from left
r â† x > â‰ âŒ½ Â» âŒˆ` âŒ½ â‰ x  # from right
â€¢Show +Â´ â¥Š âˆ¨Â´ tâ€¿bâ€¿lâ€¿r

# part two: scenic scores
# for each location, figure out how far you can look in each direction.
LookDownward â† > {ğ•Šx: {ğ•Ši:
  head â† iâŠx
  tail â† (i+1)â†“x
  shorties â† â‰  0âŠËœË˜ â‰ (headâŠ¸>Ë˜ tail)
  # possibly add one to count as visible the taller tree that blocked our sight.
  # but don't add one if we've reached the edge without seeing any taller trees.
  (â‰ tail) âŒŠ 1 + shorties
}Â¨ â†•â‰ x }
LookUpward â† âŒ½ âˆ˜LookDownwardâˆ˜âŒ½
LookLeftward â† â‰ âˆ˜âŒ½ âˆ˜LookDownwardâˆ˜âŒ½ âˆ˜â‰
LookRightward â† â‰ âˆ˜LookDownwardâˆ˜â‰
#â€¢Show [LookDownward x, LookUpward x, LookLeftward x, LookRightward x]
scenicscores â† Ã—Ë [LookDownward x, LookUpward x, LookLeftward x, LookRightward x]
â€¢Show âŒˆÂ´ â¥Š scenicscores

